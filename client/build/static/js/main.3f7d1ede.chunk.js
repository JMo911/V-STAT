(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),s=(a(81),a(7)),o=a(8),i=a(10),m=a(9),u=a(11),h=(a(82),a(19)),d=a(25),p=a(123),v=(a(33),a(75).a.div({hoverable:!0,pressable:!0,init:{scale:1,boxShadow:"0px 0px 0px rgba(0,0,0,0)"},hover:{scale:1.2,boxShadow:"0px 5px 10px rgba(0,0,0,0.2)"},press:{scale:1.1,boxShadow:"0px 2px 5px rgba(0,0,0,0.1)"}})),g=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{id:"loginArea"},r.a.createElement("img",{src:"/assets/images/VSTAT-logo2.png",id:"logo",alt:"V-STAT!"}),r.a.createElement("p",null,"Welcome to V-STAT!"),r.a.createElement("p",null,"This program aims to take some of the confusion out of the car repair process, ensuring total transparency throughout every step of your journey. From the time a Customer gets into an accident, to the moment they pick up their fixed vehicle, V-STAT is there every step of the way. "),r.a.createElement("p",null,"Whether you're an insurance agent, a mechanic, or a customer, V-STAT can help!"),r.a.createElement("p",null,"To begin, please select the Login button below."),r.a.createElement(h.b,{to:"/login"},r.a.createElement(v,{id:"login-button"},"Login"))))}}]),t}(n.Component),E=a(128),b=a(125),f=a(15),k=a(6),C=a(16),w=a(127),y=a(70),O=a(124),j=(a(48),a(12)),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={insuranceUsername:"",insurancePassword:"",insuranceNameFirst:"",insuranceNameLast:"",insuranceCompany:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.insuranceUsername,password:this.state.insurancePassword,firstName:this.state.insuranceNameFirst,lastName:this.state.insuranceNameLast,insuranceCompany:this.state.insuranceCompany,mechanicShopName:null,UserTypeId:3};console.log(t),j.post("/api/registration/",t).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"new-user-area"},r.a.createElement(C.a.Body,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-username-input",value:this.state.insuranceUsername,onChange:this.handleChange,name:"insuranceUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-password-input",value:this.state.insurancePassword,onChange:this.handleChange,name:"insurancePassword",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-first-name-input",value:this.state.insuranceNameFirst,onChange:this.handleChange,name:"insuranceNameFirst",placeholder:"Enter First Name"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-last-name-input",value:this.state.insuranceNameLast,onChange:this.handleChange,name:"insuranceNameLast",placeholder:"Enter Last Name"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-last-name-input",value:this.state.insuranceCompany,onChange:this.handleChange,name:"insuranceCompany",placeholder:"Enter Insurance Company"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"new-user-button",type:"submit"},"Create User")))))}}]),t}(n.Component),S=a(30),T=a(12),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={insuranceUsername:"",insurancePassword:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.insuranceUsername,password:this.state.insurancePassword};T.post("/api/auth",t).then(function(e){if(3!==e.data.user.UserTypeId){console.log("wrong user type"),setTimeout(function(){window.location="/"},3e3)}else{var t=new S.a;t.set("token",e.data.token),t.set("userId",e.data.user.id),t.set("userTypeId",e.data.user.UserTypeId),window.location="/insurance-splash"}}).catch(function(e){if(console.log(e),e.response){console.log(e.response.data.info.message);var t=e.response.data.info.message;console.log(t),setTimeout(function(){window.location="/"},3e3)}}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{id:"insurance-login"},r.a.createElement(C.a.Body,null,r.a.createElement(E.a,{defaultActiveKey:"Login",transition:!1,id:"noanim-tab-example"},r.a.createElement(b.a,{eventKey:"Login",title:"Log in"},r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-username-submit",value:this.state.insuranceUsername,onChange:this.handleChange,name:"insuranceUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"insurance-password-submit",value:this.state.customerPassword,onChange:this.handleChange,type:"password",name:"insurancePassword",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"insurance-login-button",type:"submit"},"Login")))),r.a.createElement(b.a,{eventKey:"Signup",title:"Sign Up"},r.a.createElement(N,null)))))}}]),t}(n.Component),I=a(12),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={mechanicUsername:"",mechanicPassword:"",mechanicNameFirst:"",mechanicNameLast:"",mechanicShopName:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.mechanicUsername,password:this.state.mechanicPassword,firstName:this.state.mechanicNameFirst,lastName:this.state.mechanicNameLast,insuranceCompany:null,mechanicShopName:this.state.mechanicShopName,UserTypeId:2};I.post("/api/registration/",t).then(function(e){}).catch(function(e){console.log(e)}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"new-user-area"},r.a.createElement(C.a.Body,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-username-input",value:this.state.mechanicUsername,onChange:this.handleChange,name:"mechanicUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-password-input",value:this.state.mechanicPassword,onChange:this.handleChange,name:"mechanicPassword",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-first-name-input",value:this.state.mechanicNameFirst,onChange:this.handleChange,name:"mechanicNameFirst",placeholder:"Enter First Name"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-last-name-input",value:this.state.mechanicNameLast,onChange:this.handleChange,name:"mechanicNameLast",placeholder:"Enter Last Name"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-last-name-input",value:this.state.mechanicShopName,onChange:this.handleChange,name:"mechanicShopName",placeholder:"Enter Mechanic Shop"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"new-user-button",type:"submit"},"Create User")))))}}]),t}(n.Component),x=a(37),L=a(12),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={mechanicUsername:"",mechanicPassword:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.mechanicUsername,password:this.state.mechanicPassword};console.log(t),L.post("/api/auth",t).then(function(e){var t=e.data.user.UserTypeId;if(console.log(t),2!==t){return console.log("wrong user type"),r.a.createElement(x.a,{variant:"danger"},r.a.createElement(x.a.Heading,null,"Wrong user type!"))}var a=new S.a;a.set("token",e.data.token),a.set("userId",e.data.user.id),a.set("userTypeId",e.data.user.UserTypeId),window.location="/mechanic-splash"}).catch(function(e){if(console.log(e),e.response){console.log(e.response.data.info.message);var t=e.response.data.info.message;console.log(t),setTimeout(function(){window.location="/"},3e3)}}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{id:"mechanic-login"},r.a.createElement(C.a.Body,null,r.a.createElement(E.a,{defaultActiveKey:"Login",transition:!1,id:"noanim-tab-example"},r.a.createElement(b.a,{eventKey:"Login",title:"Log in"},r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-username-submit",value:this.state.mechanicUsername,onChange:this.handleChange,name:"mechanicUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"mechanic-password-submit",value:this.state.customerPassword,onChange:this.handleChange,name:"mechanicPassword",type:"password",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"mechanic-login-button",type:"submit"},"Login")))),r.a.createElement(b.a,{eventKey:"Signup",title:"Sign Up"},r.a.createElement(U,null)))))}}]),t}(n.Component),D=a(12),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={customerUsername:"",customerPassword:"",customerNameFirst:"",customerNameLast:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.customerUsername,password:this.state.customerPassword,firstName:this.state.customerNameFirst,lastName:this.state.customerNameLast,UserTypeId:1};D.post("/api/registration/",t).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"new-user-area"},r.a.createElement(C.a.Body,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-username-input",value:this.state.customerUsername,onChange:this.handleChange,name:"customerUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-password-input",value:this.state.customerPassword,onChange:this.handleChange,name:"customerPassword",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-first-name-input",value:this.state.customerNameFirst,onChange:this.handleChange,name:"customerNameFirst",placeholder:"Enter First Name"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-last-name-input",value:this.state.customerNameLast,onChange:this.handleChange,name:"customerNameLast",placeholder:"Enter Last Name"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"new-user-button",type:"submit"},"Create User")))))}}]),t}(n.Component),B=a(12),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={customerUsername:"",customerPassword:"",error:!1,errormessage:"",data:[]},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"displayError",value:function(e){return r.a.createElement(x.a,{variant:"danger"},e)}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={username:this.state.customerUsername,password:this.state.customerPassword};B.post("/api/auth",t).then(function(e){if(1!==e.data.user.UserTypeId){console.log("wrong user type"),alert("Wrong User Type! Returning to login..."),setTimeout(function(){window.location="/"},3e3),this.setState({error:!0,errormessage:"Please log in at the appropriate page."})}else{var t=new S.a;t.set("token",e.data.token),t.set("userId",e.data.user.id),t.set("userTypeId",e.data.user.UserTypeId),window.location="/MasterView/"}}).catch(function(e){if(e.response){console.log(e.response.data.info.message);var t=e.response.data.info.message;this.displayError(t),console.log(t),setTimeout(function(){window.location="/"},3e3)}}),e.preventDefault()}},{key:"render",value:function(){var e=this.state.errormessage,t=this.state.error;return r.a.createElement(p.a,null,r.a.createElement("div",{id:"customer-login"},t?r.a.createElement("div",null,"Error: ",e):r.a.createElement("div",null),r.a.createElement(C.a.Body,null,r.a.createElement(E.a,{defaultActiveKey:"Login",transition:!1,id:"noanim-tab-example"},r.a.createElement(b.a,{eventKey:"Login",title:"Log in"},r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-username-submit",value:this.state.customerUsername,onChange:this.handleChange,name:"customerUsername",placeholder:"Enter Username"})),r.a.createElement(y.a,null,r.a.createElement(w.a.Control,{id:"customer-password-submit",value:this.state.customerPassword,onChange:this.handleChange,name:"customerPassword",type:"password",placeholder:"Enter Password"})),r.a.createElement(y.a,null,r.a.createElement(O.a,{id:"user-login-button",type:"submit"},"Login")))),r.a.createElement(b.a,{eventKey:"Signup",title:"Sign Up"},r.a.createElement(A,null))))))}}]),t}(n.Component),V=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"centered",id:"loginBox"},r.a.createElement(E.a,{defaultActiveKey:"CustomerLogin",transition:!1,id:"noanim-tab-example"},r.a.createElement(b.a,{eventKey:"InsurerLogin",title:"InsurerLogin"},r.a.createElement(M,null)),r.a.createElement(b.a,{eventKey:"MechanicLogin",title:"MechanicLogin"},r.a.createElement(P,null)),r.a.createElement(b.a,{eventKey:"CustomerLogin",title:"CustomerLogin"},r.a.createElement(F,null))))}}]),t}(n.Component),Y=a(53),W=a.n(Y),z=a(73),K=(a(120),a(12)),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={vehicleMake:"",vehicleModel:"",vehicleYear:"",vehicleMileage:"",estimatedCost:"",caseNumber:"",mechanicUsername:"",customerUsername:"",mechanicID:null,customerID:null,ticketID:null},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(z.a)(W.a.mark(function e(t){var a,n,r,l,c,s,o,i,m,u=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),a=(a=document.cookie).split(", "),n={},r=0;r<a.length;r++)l=a[r].split(";"),n[l[0]]=l[1],c=a[r].split("="),n[c[0]]=c[1];return s=n.token,o=s.split("; "),i=o[0],e.next=10,K({method:"get",url:"/api/users/"+this.state.mechanicUsername,headers:{Authorization:"Bearer "+i}}).then(function(e){var t=e.data.id;u.setState({mechanicID:t})}).catch(function(e){console.log(e)});case 10:return e.next=12,K({method:"get",url:"/api/users/"+this.state.customerUsername,headers:{Authorization:"Bearer "+i}}).then(function(e){var t=e.data.id;u.setState({customerID:t})}).catch(function(e){console.log(e)});case 12:return m={vehicleMake:this.state.vehicleMake,vehicleModel:this.state.vehicleModel,vehicleYear:this.state.vehicleYear,vehicleMileage:this.state.vehicleMileage,estimatedCost:this.state.estimatedCost,caseNumber:this.state.caseNumber},console.log(m),e.next=16,K({method:"get",url:"/api/users/user-info",headers:{Authorization:"Bearer "+i}}).then(function(e){e.data}).catch(function(e){console.log(e)});case 16:K({method:"post",url:"/api/tickets",data:m,headers:{Authorization:"Bearer "+i}}).then(function(e){var t=e.data.id;console.log(t),this.setState({ticketID:t}),window.location="/insurance-ticket-view"}).catch(function(e){console.log(e)}),console.log("TICKET",this.state.ticketID),console.log("CUSTOMER",this.state.customerID),console.log("MECH",this.state.mechanicID);case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{id:"ticketInputArea"},r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Vehicle Make"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Enter Vehicle Make",value:this.state.vehicleMake,onChange:this.handleChange,name:"vehicleMake"})),r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Vehicle Model"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Enter Vehicle Model",value:this.state.vehicleModel,onChange:this.handleChange,name:"vehicleModel"}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Vehicle Year"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Vehicle Year",value:this.state.vehicleYear,onChange:this.handleChange,name:"vehicleYear"})),r.a.createElement(w.a.Group,{id:"mileage-input"},r.a.createElement(w.a.Label,null,"Vehicle Mileage"),r.a.createElement(w.a.Control,{placeholder:"Enter Vehicle Mileage",value:this.state.vehicleMileage,onChange:this.handleChange,name:"vehicleMileage"}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Estimated Cost of Repairs"),r.a.createElement(w.a.Control,{placeholder:"Estimated Cost of Repairs",value:this.state.estimatedCost,onChange:this.handleChange,name:"estimatedCost"})),r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Case Number"),r.a.createElement(w.a.Control,{placeholder:"Case Number",value:this.state.caseNumber,onChange:this.handleChange,name:"caseNumber"}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Customer Username"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Customer Username",value:this.state.customerUsername,onChange:this.handleChange,name:"customerUsername"})),r.a.createElement(w.a.Group,{as:y.a},r.a.createElement(w.a.Label,null,"Mechanic Username"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Mechanic Username",value:this.state.mechanicUsername,onChange:this.handleChange,name:"mechanicUsername"}))),r.a.createElement(O.a,{variant:"primary",type:"submit"},"Submit"))))}}]),t}(n.Component),R=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cardDiv"},r.a.createElement(C.a,{style:{backgroundColor:"rgba(255,255,255,0.2"}},r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,e.vehicleMake," ",e.vehicleModel," ",e.vehicleYear),r.a.createElement("br",null),r.a.createElement(C.a.Text,null,r.a.createElement("br",null),"Case Number: ",e.caseNumber,r.a.createElement("br",null),"Estimated Cost: $",e.estimatedCost,r.a.createElement("br",null),"Vehicle Mileage: ",e.vehicleMileage,r.a.createElement("br",null))),r.a.createElement(h.b,{to:"/MasterView/".concat(e.caseNumber)},r.a.createElement(O.a,{variant:"primary"},"View Ticket")))))},H=a(12),$=a.n(H),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=document.cookie;t=t.split(", ");for(var a={},n=0;n<t.length;n++){var r=t[n].split(";");a[r[0]]=r[1];var l=t[n].split("=");a[l[0]]=l[1]}var c=a.token.split("; ")[0];$()({method:"get",url:"/api/users/user-info",headers:{Authorization:"Bearer "+c}}).then(function(t){var a=t.data;console.log("Our user data is: ",a),console.log("Our user ID is: ",a.id),$()({method:"get",url:"/api/users/"+a.id+"/tickets",headers:{Authorization:"Bearer "+c}}).then(function(t){var a=t.data[0].Tickets;e.setState({data:a})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"cardarea"},this.state.data.map(function(e){return r.a.createElement(R,{key:e.caseNumber,caseNumber:e.caseNumber,estimatedCost:e.estimatedCost,approvalDate:e.approvalDate,vehicleMake:e.vehicleMake,vehicleModel:e.vehicleModel,vehicleYear:e.vehicleYear,vehicleMileage:e.vehicleMileage})})))}}]),t}(n.Component),Q=(a(34),a(126)),q=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"task"},r.a.createElement(Q.a,null,r.a.createElement(y.a,{md:7},r.a.createElement("div",{className:"taskName"},r.a.createElement("p",{id:"task-text"},this.props.todo))),r.a.createElement(y.a,{md:5},r.a.createElement("div",{className:"actions"},this.props.completed?r.a.createElement("div",null):r.a.createElement(O.a,{onClick:this.props.handleCompletedTask,className:"btn btn-success text-white",id:"task-completed-button"},"Complete Task")))))}}]),t}(n.Component);var X=function(e){return console.log(e.tasks),r.a.createElement("div",{className:"completed-tasks"},r.a.createElement("fieldset",{id:"task-area"},r.a.createElement("legend",{id:"completed-tasks-header"},"Completed Tasks"),r.a.createElement("ol",{className:"taskName pl-4",style:{lineHeight:1}},r.a.createElement("ul",null,e.completedTasks.map(function(e){return r.a.createElement(q,{key:e.id,todo:e.todo,completed:e.completed})})))))};function Z(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function _(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}var ee=a(74),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={comments:ee[0].comments,comment:""},a.handleInputChange=a.handleInputChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addComment",value:function(e){if(""!==this.onSubmit.value){var t={text:this.onSubmit.value,key:Date.now()};console.log(t.data.config.data)}}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value)),console.log(this.state.comment)}},{key:"handleSubmit",value:function(e){var t=document.cookie;t=t.split(", ");for(var a={},n=0;n<t.length;n++){var r=t[n].split(";");a[r[0]]=r[1];var l=t[n].split("=");a[l[0]]=l[1]}var c=a.token.split("; ")[0],s=document.cookie.split(";")[1].split("=")[1],o=window.location.href[window.location.href.length-1],i={message:this.state.comment,UserId:s,TicketId:o};$()({method:"post",url:"/api/comments",headers:{Authorization:"Bearer "+c},data:i}).then(function(e){console.log("Comment created")}).catch(function(e){console.log(e)}),e.preventDefault()}},{key:"componentWillMount",value:function(){for(var e=this,t=document.cookie,a=((t=t.split("; "))[0].split("=")[1],{}),n=0;n<t.length;n++){var r=t[n].split("=");a[r[0]]=r[1]}var l=a.token.split("; ")[0],c=window.location.href[window.location.href.length-1];$()({method:"get",url:"/api/tickets/"+c+"/comments",headers:{Authorization:"Bearer "+l}}).then(function(t){var a=t.data[0].Comments;console.log("COMMENT DATA",a),e.setState({comments:a})}).catch(function(e){console.log("error:",e)}),console.log(this.state.completedTasks)}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{id:"comment-box"},this.state.comments.length?r.a.createElement(Z,null,this.state.comments.map(function(e){return r.a.createElement(_,{key:e.id},"UserID: ",e.UserId,"  Comment: ",e.message)})):r.a.createElement("h3",null,"No Comments to Display")),r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Comments"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Place your comment",value:this.state.comment,onChange:this.handleInputChange,name:"comment"})),r.a.createElement(O.a,{variant:"primary",type:"submit"},"Submit")))}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],task:"",completedTasks:[]},a.onSubmit=function(e){e.preventDefault();var t=window.location.href[window.location.href.length-1],n={todo:a.state.task,completed:!1,TicketId:t},r=document.cookie;r=r.split(", ");for(var l={},c=0;c<r.length;c++){var s=r[c].split(";");l[s[0]]=s[1];var o=r[c].split("=");l[o[0]]=o[1]}var i=l.token.split("; ")[0];$()({method:"post",url:"/api/tasks",headers:{Authorization:"Bearer "+i},data:n}).then(function(e){console.log("task created")}).catch(function(e){console.log(e)});var m=a.state.tasks.slice();m.push(a.state.task),a.setState({tasks:m,task:""})},a.handleInputChange=function(e){a.setState({task:e.target.value}),console.log(a.state.task)},a.completeTask=function(e,t,a,n){console.log(t,"Todo: "+n+"completed: "+a);for(var r=document.cookie,l=((r=r.split("; "))[0].split("=")[1],{}),c=0;c<r.length;c++){var s=r[c].split("=");l[s[0]]=s[1]}var o=l.token.split("; ")[0];$()({method:"put",url:"/api/tasks/"+t,data:{completed:!0},headers:{Authorization:"Bearer "+o}}).then(function(e){var t=e.data;console.log(t)}).catch(function(e){console.log("error:",e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addTask",value:function(e){this.onSubmit.value}},{key:"componentWillMount",value:function(){for(var e=this,t=document.cookie,a=((t=t.split("; "))[0].split("=")[1],{}),n=0;n<t.length;n++){var r=t[n].split("=");a[r[0]]=r[1]}var l=a.token.split("; ")[0],c=window.location.href[window.location.href.length-1];$()({method:"get",url:"/api/tickets/"+c+"/tasks",headers:{Authorization:"Bearer "+l}}).then(function(t){var a=t.data[0].Tasks,n=[],r=[];a.forEach(function(e){console.log(e.completed),e.completed?(r.push(e),console.log(e)):n.push(e)}),e.setState({tasks:n,completedTasks:r})}).catch(function(e){console.log("error:",e)}),console.log(this.state.completedTasks)}},{key:"render",value:function(){var e=this;return r.a.createElement(Q.a,{md:2},r.a.createElement(y.a,{md:2},r.a.createElement("form",null,r.a.createElement(Q.a,null,r.a.createElement(y.a,{md:8,id:"task-input-area"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Add Your Task Here",value:this.state.task,onChange:function(t){return e.handleInputChange(t)}})),r.a.createElement(Q.a,null,r.a.createElement("div",{id:"task-input-submit",className:"col-md-3 col-sm-3 col-3"},r.a.createElement(O.a,{onClick:this.onSubmit,className:"btn btn-primary addNew",id:"add-task-button"},"Add Task")))))),r.a.createElement(y.a,{md:8},r.a.createElement("div",{className:"task-list"},r.a.createElement("fieldset",null,r.a.createElement("legend",{id:"task-list-header"},"Task List"),r.a.createElement("div",{className:"allTasks"},r.a.createElement("ul",null,this.state.tasks.map(function(t){return r.a.createElement(q,{key:t.id,todo:t.todo,completed:t.completed,handleCompletedTask:function(a,n){return e.completeTask(a,t.id,t.completed,t.todo)}})}))))),r.a.createElement(X,{completedTasks:this.state.completedTasks})),r.a.createElement(y.a,{md:2},r.a.createElement(te,null)))}}]),t}(n.Component),ne=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{id:"master-view-ticket"},r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,e.vehicleMake," ",e.vehicleModel," ",e.vehicleYear),r.a.createElement("br",null),r.a.createElement(C.a.Text,null,"Vehicle Make: ",e.vehicleMake,r.a.createElement("br",null),"Vehicle Model: ",e.vehicleModel,r.a.createElement("br",null),"Vehicle Year: ",e.vehicleYear,r.a.createElement("br",null),"Mileage: ",e.vehicleMileage,r.a.createElement("br",null),"Estimated Cost: $",e.estimatedCost,r.a.createElement("br",null),"Estimated Completion Date: ",e.approvalDate,r.a.createElement("br",null),"Case Number: ",e.caseNumber))),r.a.createElement("br",null))},re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleCompletedTask=function(e){var t=a.state.completedTasks.slice();t.push(e),a.setState({completedTasks:t})},a.handleCompletedTask=function(e){a.state.completedTasks.slice().push(e),a.setState(function(e){return{completedTasks:e.completedTasks}})},a.state={completedTasks:[],data:[],userId:"",caseNumber:e.match.caseNumber,ticket:{}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){for(var e=this,t=document.cookie,a=(t=t.split("; "))[0].split("=")[1],n={},r=0;r<t.length;r++){var l=t[r].split("=");n[l[0]]=l[1]}var c=n.token.split("; ")[0];this.setState({userId:a}),$()({method:"get",url:"/api/users/"+this.state.userId,headers:{Authorization:"Bearer "+c}}).then(function(t){var a=t.data;e.setState({data:a})}).catch(function(e){console.log("error:",e)});var s=window.location.href[window.location.href.length-1];$()({method:"get",url:"/api/tickets/"+s,headers:{Authorization:"Bearer "+c}}).then(function(t){e.setState({ticket:t.data}),console.log("this.state.ticket = : ",e.state.ticket)}).catch(function(e){console.log("error:",e)})}},{key:"render",value:function(){return r.a.createElement(p.a,{id:"ticket-view"},console.log("We are passing down... ",this.state.data,this.state.ticket),r.a.createElement(ne,{key:this.state.ticket.caseNumber,caseNumber:this.state.ticket.caseNumber,estimatedCost:this.state.ticket.estimatedCost,approvalDate:this.state.ticket.approvalDate,vehicleMake:this.state.ticket.vehicleMake,vehicleModel:this.state.ticket.vehicleModel,vehicleYear:this.state.ticket.vehicleYear,vehicleMileage:this.state.ticket.vehicleMileage}),r.a.createElement(ae,{handleCompletedTask:this.handleCompletedTask}))}}]),t}(n.Component),le=function(e){return r.a.createElement(p.a,null,r.a.createElement(Q.a,{className:"MainCard",alignItems:"center",flexCol:!0},r.a.createElement(y.a,{xs:"8",className:"offset-2"},r.a.createElement(C.a,null,r.a.createElement(C.a.Header,null,"Welcome"),r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,"Select an Option"),r.a.createElement(C.a.Text,null,"Create or view mechanic insurance tickets."),r.a.createElement(Q.a,null,r.a.createElement(h.b,{to:"/insurance-ticket-view"},r.a.createElement(y.a,null,r.a.createElement(O.a,{variant:"primary"},"View Tickets"))),r.a.createElement(y.a,null,r.a.createElement(h.b,{to:"/new-ticket"},r.a.createElement(O.a,{id:"ticket-button"},"Create New Ticket")))))))))},ce=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"cardDiv"},r.a.createElement(C.a,{style:{backgroundColor:"rgba(255,255,255,0.2"}},r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,e.vehicleMake," ",e.vehicleModel," ",e.vehicleYear),r.a.createElement("br",null),r.a.createElement(C.a.Text,null,"Customer: ",e.customerNameFirst," ",e.customerNameLast,r.a.createElement("br",null),"Case Number: ",e.caseNumber,r.a.createElement("br",null),"Estimated Cost: $",e.estimatedCost,r.a.createElement("br",null),"Approval Date: ",e.approvalDate,r.a.createElement("br",null),"Vehicle Mileage: ",e.vehicleMileage)),r.a.createElement(h.b,{to:"/MasterView/".concat(e.caseNumber)},r.a.createElement(O.a,{variant:"primary"},"View Ticket")))))},se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=document.cookie;t=t.split(", ");for(var a={},n=0;n<t.length;n++){var r=t[n].split(";");a[r[0]]=r[1];var l=t[n].split("=");a[l[0]]=l[1]}var c=a.token.split("; ")[0];$()({method:"get",url:"/api/users/user-info",headers:{Authorization:"Bearer "+c}}).then(function(t){var a=t.data;console.log("Our user data is: ",a),console.log("Our user ID is: ",a.id),$()({method:"get",url:"/api/users/"+a.id+"/tickets",headers:{Authorization:"Bearer "+c}}).then(function(t){var a=t.data[0].Tickets;e.setState({data:a})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"cardarea"},this.state.data.map(function(e){return r.a.createElement(ce,{key:e.caseNumber,caseNumber:e.caseNumber,estimatedCost:e.estimatedCost,approvalDate:e.approvalDate,vehicleMake:e.vehicleMake,vehicleModel:e.vehicleModel,vehicleYear:e.vehicleYear,vehicleMileage:e.vehicleMileage})})))}}]),t}(n.Component),oe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:g}),r.a.createElement(d.a,{exact:!0,path:"/insurance-splash",component:le}),r.a.createElement(d.a,{exact:!0,path:"/insurance-ticket-view",component:se}),r.a.createElement(d.a,{path:"/MasterView",component:re}),r.a.createElement(d.a,{path:"/MasterView/:id",component:re}),r.a.createElement(d.a,{exact:!0,path:"/login",component:V}),r.a.createElement(d.a,{exact:!0,path:"/new-ticket",component:G}),r.a.createElement(d.a,{exact:!0,path:"/mechanic-splash",component:J}))))}}]),t}(n.Component),ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(oe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ie?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):me(e)})}}()},33:function(e,t,a){},34:function(e,t,a){},48:function(e,t,a){},74:function(e){e.exports=[{caseNumber:1234567,estimatedCost:12e3,approvalDate:"1990-01-01",vehicleMake:"Wayne",vehicleModel:"Batmobile",vehicleYear:1980,vehicleMileage:9001,insuranceNameFirst:"Harley",insuranceNameLast:"Quinn",insuranceCompany:"Geico",customerNameFirst:"Bruce",customerNameLast:"Wayne",mechanicNameFirst:"Tim",mechanicNameLast:"Drake",mechanicShopName:"Batcave",comments:[{author:"Customer",profilePic:"/assets/images/avatar.png",commentText:"My car rules!",commentId:1,userId:1},{author:"Mechanic",profilePic:"/assets/images/avatar.png",commentText:"Your car sucks and here's why.",commentId:2,userId:2},{author:"Insurance",profilePic:"/assets/images/avatar.png",commentText:"We won't pay for your car.",commentId:3,userId:3},{author:"CoolGuy",profilePic:"/assets/images/avatar.png",commentText:"I hate puppies!",commentId:4,userId:1},{author:"AngryGirl",profilePic:"/assets/images/avatar.png",commentText:"WTF puppies are the best!",commentId:5,userId:1},{author:"InternetTroll",profilePic:"/assets/images/avatar.png",commentText:"Go back to <insert country!>",commentId:6,userId:1}]}]},76:function(e,t,a){e.exports=a(121)},81:function(e,t,a){},82:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.3f7d1ede.chunk.js.map